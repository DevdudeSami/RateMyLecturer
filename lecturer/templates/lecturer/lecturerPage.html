{% extends 'main/base.html' %}

{% load static %}

{% block title_block %}
    {{ lecturer.title }} {{ lecturer.first_name }} {{ lecturer.last_name }}
{% endblock %}

{% block script_block %}
    <script>
        var lecturerID = {{ lecturer.id }};
        var starURL = "{% static 'img/star.png' %}";
        var selectedStarURL = "{% static 'img/star-selected.png' %}";
    </script>

    <script src="{% static 'js/LecturerPageScript.js' %}"></script>
    <script src="{% static 'js/CommentScoresScript.js' %}"></script>
{% endblock %}

{% block body_block %}

    <h1>{{ lecturer.title }} {{ lecturer.first_name }} {{ lecturer.last_name }}</h1>

    <p>
        University: {{ lecturer.university }} <br />
        Department: {{ lecturer.department.name }}
    </p>

    {% if userInUni %}
    <p>
        Rate this lecturer:

        <!-- Using this to iterate a fixed number of times -->
        {% for i in "1234567890" %}
            <img src="{% static 'img/star.png' %}" width=25 class="rateLecturerButton" id="rateLecturerButton{{forloop.counter}}" onclick="rateLecturer({{forloop.counter}})">
        {% endfor %}
    </p>
    {% endif %}

    <p>
        Average rating: <span id="averageRating">{{ lecturer.get_rating }}</span>
    </p>

    {% if userInUni %}
    <p id="addCommentArea" {% if userCommented %} hidden="true" {% endif %}>
        <textarea id="commentText{% if userCommented %}-hidden{% endif %}"></textarea> <br />
        <button onclick="addComment()">Comment</button>
        <input type="checkbox" value="Submit Anonymously" id="anonymousCheck{% if userCommented %}-hidden{% endif %}" /> Submit Anonymously
    </p>
    {% endif %}

    <div id="comments"></div>

{% endblock %}
